@using System.ComponentModel.DataAnnotations
@using MudBlazor
@using CroBooks.Shared.Dto

@inherits AppComponentBase

<MudForm @ref="_form" @bind-IsValid="@_success" @bind-Errors="@_errors">
    <MudTextField @bind-Value="Client.Name" For="@(() => Client.Name)" Label="@(LocalizeLabel(() => Client.Name))" Required="true"/>
    <MudTextField @bind-Value="Client.Address" For="@(() => Client.Address)" Label="@(LocalizeLabel(() => Client.Address))" Required="true"/>
    <MudTextField @bind-Value="Client.City" For="@(() => Client.City)" Label="@(LocalizeLabel(() => Client.City))" Required="true"/>
    <MudTextField @bind-Value="Client.PostalCode" For="@(() => Client.PostalCode)" Label="@(LocalizeLabel(() => Client.PostalCode))" Required="true"/>
    <MudTextField @bind-Value="Client.Country" For="@(() => Client.Country)" Label="@(LocalizeLabel(() => Client.Country))" Required="true"/>
    <MudTextField @bind-Value="Client.TaxNumber" For="@(() => Client.TaxNumber)" Label="@(LocalizeLabel(() => Client.TaxNumber))" Required="true"/>
    <MudTextField @bind-Value="Client.Email" For="@(() => Client.Email)" Label="@(LocalizeLabel(() => Client.Email))"/>
    <MudTextField @bind-Value="Client.Phone" For="@(() => Client.Phone)" Label="@(LocalizeLabel(() => Client.Phone))"/>
    <MudTextField @bind-Value="Client.Note" For="@(() => Client.Note)" Label="@(LocalizeLabel(() => Client.Note))"/>
</MudForm>

@code {
    [Parameter]
    public ClientDto Client { get; set; } = new();
    
    bool _success;
    string[] _errors = [];
    MudForm _form = null!;

    public bool Validate()
    {
        _form.Validate();
        return _success;
    }
}
